{"version":3,"sources":["api/api.js","components/NavBar/NavBar.module.css","redux/dialogsReducer.js","utils/object-helpers.js","redux/usersReducer.js","assets/images/7677edd5a44b10130b8824ca020ba60b.gif","components/Common/Preloader/Preloader.module.css","components/Common/FormsControls/FormsControls.jsx","serviceWorker.js","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/NavBar/NavBar.jsx","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/Login/Login.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/WithSuspense.js","App.js","index.js","components/Common/FormsControls/FormsControls.module.css","components/Common/Preloader/Preloader.js","utils/validators/validators.js","components/Header/Header.module.css","redux/profileReducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","authAPI","isAuth","login","email","password","rememberMe","post","logout","delete","followAPI","follow","userId","unfollow","profileAPI","getProfile","getStatus","updateStatus","status","put","module","exports","initialState","dialogsData","id","name","messagesData","message","sendMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","newText","body","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","Page","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","dispatch","a","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","bind","usersReducer","followed","filter","FormControl","input","meta","touched","error","children","hasError","className","s","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","Boolean","window","location","hostname","match","Header","header","src","loginBlock","onClick","to","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","this","React","Component","connect","auth","NavBar","nav","item","activeClassName","activeLink","active","News","Music","Settings","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","messages","length","stopSubmit","_error","formData","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","Preloader","UsersContainer","lazy","DialogsContainer","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SocialNetApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","style","backgroundColor","preLoader","value","maxLengthCreator","maxLength","posts","likeCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","p","postId"],"mappings":"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","file":"static/js/main.333bf889.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '7469f5d9-ffd4-4215-a259-761962732f35'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage=1,pageSize=10){\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    isAuth(){\r\n        return instance.get('auth/me')\r\n        .then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false){\r\n        return instance.post('auth/login', {\r\n            email, password, rememberMe\r\n        })\r\n        .then(response => response.data);\r\n    },\r\n    logout(){\r\n        return instance.delete('auth/login')\r\n        .then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const followAPI = {\r\n    follow(userId){\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unfollow(userId){\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`profile/status/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    updateStatus(status){\r\n        debugger\r\n        return instance.put(`profile/status/`, {status: status})\r\n    }\r\n}\r\n                                ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__3RZX_\",\"item\":\"NavBar_item__2wclv\",\"activeLink\":\"NavBar_activeLink__1g5ER\"};","const UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY';\r\nconst SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {  \r\n    dialogsData:[\r\n        {id:1,name:'Kolya'},\r\n        {id:2,name:'Ujin'},\r\n        {id:3,name:'Ira'},\r\n        {id:4,name:'Maria'}\r\n    ],\r\n    messagesData:[\r\n        {id:1,message:'Hi'},\r\n        {id:2,message:'How are you'},\r\n        {id:3,message:'Thanks!'}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case UPDATE_NEW_MESSAGE_BODY: \r\n            return {\r\n                ...state, \r\n                newMessageBody: action.newText\r\n            };\r\n        case SEND_MESSAGE: \r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, {id:6, message:body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\nexport const updateNewMessageBodyActionCreator = (text) => ({type: UPDATE_NEW_MESSAGE_BODY, newText: text});\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map (u => {\r\n        if(u[objPropName] === itemId){\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n\r\n","import { usersAPI } from '../api/api';\r\nimport { followAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT_PAGE';\r\nconst SET_TOTAL_USER_COUNT = 'SET-TOTAL_USER_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nlet initialState = {  \r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    Page: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case FOLLOW:\r\n            debugger;\r\n            return {\r\n                ...state, \r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            debugger;\r\n            return {\r\n                ...state, \r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, Page: action.Page}\r\n        }\r\n        case SET_TOTAL_USER_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state, \r\n                followingInProgress: action.isFetching \r\n                    ? [...state.followingInProgress, action.userId] \r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (Page) => ({type: SET_CURRENT_PAGE, Page});\r\nexport const setTotalUsersCount = (totalUsersCount) =>({type: SET_TOTAL_USER_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page))\r\n        let response = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalUsersCount(response.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId)\r\n    if (response.resultCode === 0){\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, followAPI.follow.bind(followAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, followAPI.unfollow.bind(followAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","module.exports = __webpack_public_path__ + \"static/media/7677edd5a44b10130b8824ca020ba60b.1a7925ff.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preLoader\":\"Preloader_preLoader__1DG57\"};","import React from 'react';\r\nimport s from './FormsControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={`${s.formControl} ${hasError && s.error}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props={}, text='') => (\r\n    <div>\r\n        <Field placeholder={placeholder} \r\n                name={name} \r\n                component={component} \r\n                validate={validators}\r\n                {...props}\r\n        /> {text}\r\n    </div>\r\n)","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img src=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw8QEA8QEA8OEBAQDQ0QDxAPDxAODw4QFRUWFxUWFRUYHSggGBolGxMVITEhJSkrLi8uFx8zODMsNygtLisBCgoKDg0OGhAQGy8lICUwLi0tKzA3LS0vLTIrLy0tKy0tLy4tKy0vLi0tKysrLS0wKystLS8tLS0tLS0vLS8tLf/AABEIAOEA4QMBEQACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAAAQQCAwUGB//EADYQAAICAgAEBAQEAwkBAAAAAAABAgMEEQUSITEGE0FRImFxgRQykbF0weEHIzVCQ1Kh0fEV/8QAGwEBAAIDAQEAAAAAAAAAAAAAAAMEAQIFBgf/xAA3EQEAAgECBAMGBQIGAwEAAAAAAQIDBBESITFBBVFxE2GRsdHwBiIygaHB4RQjMzRSciRCwhX/2gAMAwEAAhEDEQA/APtgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAGwI2BHMBPMA2BOwAEgAAAAAAAAAAAAAAAAAAAAAQBEpJdX0XuzW1q0rNrTtEd2YjflCjfxFLpFb+b6L+p5vWfiTFj3rgjinznlH1n+PVappZnnbkpWZdkv8zXyXQ89n8Z1ubreYjyjl8uf8rNcGOvZpcm+7b+r2c6+W9/12mfWd0sREdBP2Zit7Unes7ehMbtkMma7Sf36/uXsPi2sw/pyT+/P57o7YaT1hbp4h6SX3X/AEd/R/iaJ/LqK7e+P6x9Jn0V76T/AIyu12prae0eoxZseakXxzExPeFO1ZrO0tqZIwkCQAAAAAAAAAAAAAAAAAAAgDXfcoLb7f8AL+hX1WqxaXFOTJO0R/Puj3t6Um87Q4+Tkym+vRekfT+p8+8R8Uza235uVe1fr5z9w6WLFWkcurQc1KAABgDIAZ1WuL2n9vRlvR67NpL8eKfWO0+v3u0vjreNpdTGyFJfP1XsfQfD/EMWtx8dOUx1jvH9vKXNy4pxztK1GRfRMgJAAAAAAAAAAAAAAAAAAGMpaW32Xc1tatKza07RHOWYjflDiZWQ5y36L8qPnHiniNtbm4v/AFj9Mf19Z/s6mLFGOvvaDmpQAAAAAAADOqbi9r/0s6PV5NLmjLTt2847x9+rS9IvXaXWpt2k0fS9NqKajFXLTpP3t+zlWrNZ2lYiydqyAkAAAAAAAAAAAAAAABAFDil2kor16v6HmvxJrPZ4owV625z6R9Z+UrelpvPFPZyzxK+AAAAwKeZxbGqUJWX1RVlqqg3NPnsb1yrXd77+3qWMelzZJmKVmdo3n3R5tJvWOsrhA3efq4nfLi1mLzJY9XDYXcqitu6dqSbl36Ri1r5nStp8dfD65tvzTfbf3RH1Q8U+14e2z0BzUwBawrNPXv2PUfhrWcOS2nt0nnHrHX4x8lTVU3jidOuR7NQbkBIAAAAAAAAAAAAAAACGBw82fNZL5PS+x848Zz+21uSe0Twx+3L57upgrw44aDlplLjXEFjY2RkOPOqKbLeRPl5uVb1v037k+lwTnzUxRO3FMRv6tb24azLHw/nyycXGyJRUHfTXa4ptqPMtpb9e5nWYIwZ74onfhmY39GKW4qxLif2e8VyMuvMuvm564jfXSuWMYwqjGDilpdfza2+vQ6HjOmw6a+PHjjb8kTPvmd/ojwXm0TM+b1FsU4yT6pxkmvda6nIrMxMTCaXxfh9W+D8EX+/j9f6c9kf5Hu81tvEdVPlin5RLn1j/AC6+r67VxfHsWQ67Fa8aU43Rr+KUJxTbjr36P7niraXLSaReNuPbbfvE917jid9uzzf/ANGqzDyeNYkbFddhyqrjdy9HVZOEUoR2nJz7Lb38K6bOr/h8lNTTw7PMcNbbzt74iZ5z2293Lmh4oms5K9V7wDxKd+FDzrZWZNVt9WV5ijGyu2M5fDJR9lrXy/QreMaeuHUz7Ou1JiJrt0mJiOcN8Ft68+r0ZzEyYS00/Zk+lzzgzUyx2mJ+rW1eKsw69Uj6o46zFgZASAAAAAAAAAAAAAABjIDz0ntt+7Pk+S/He1/OZn4uzEbRsg0ZcHx69cMz/wCFsX69Do+Ef77F/wBoRZ/9OXP4R4nwMLAwIZGVTCccHDTri3bbt1x/04bkuvyLOp8O1eq1eW2LHMxxW59I6z3naGlctK0iJns8V4c8X/g+DXQpjL8ZC3fNKCdUbL5y5dPfxS5K5vWtfD6ne13hX+J8SrbJMezmOm/Pasc/SN5iP3V6ZeHHMR1eixvE8qL/AMPDJnxau/A86mVfkyvjkJ6lCTglGFbXxbn+XTXX15l/Dq5sXtbUjDNb7TvvtNe0xvvMzvy5dUsZeGdt9+TgcLr3wzw1FdebjkZfVLIt/kjo6i3/AJutnyxf/MI6/op6ulw3i8cXH8QWOS/E2cXzaaKu9k7J/DUlHu1uUn09Isq5tLbUZtHWI/JGOszPaIjnPP4fGG1bxWL+e7ueG8VrgeJ5VKusrx45FFLk4xsvjJ2Q5uvX49PXukc/XZI//UycduGJnhmfKJiIn+OSSkf5MbQjwlTbfm3cQeNkYUbcOqrIpuj5f4jLUtuyMX15YxWlJpN8z6Lrt4jemLTV0sXjJtaZrMc9q7dJnpvM89o3229DFEzab7bPZnDWQwOnjvovoj6lobzfTY7T3rX5Q5GSNrzHvXIMtNGwCQAAAAAAAAAAAAAAMJAefa19tnyW9Zpaaz25OzE7oMMvM/2lV83C8v4px5YRl8MuXm+JJRl7x69V8jq+B2212PlE7/TrHvQaj/TlzKOAQx8KjOwIKnKhhU2zjFvy82Hlqc67I9ty66l3T11Ld9dbNqbabVTxUm0xHnWd9omJ93eOmzSMfDSL16/NS8LcInlcAw40ygr6cieTjuzfJ5tWVY0pa7Jra+5Pr9VXT+L5LZInhtEVtt12tSPk1x04sMbdf7uzwLw3NZN+ZdRi4srMZ49ePialGEZPmssskoxU7JPXXXZepR1fiFfY00+O1rxE8U2t325RERvO0R80lMU8U2mNlrhnhCmrH4fROc7Hw+53VTilWp2Nyl8UevTc3036LqQ5/FcmTNmyViI9pG0x12jlHKeXk2rhiIiJ7NvGuC4cFlZv4en8THGyJedyrn2q5Lf11033NdLq9Racen454OKOXbrH3sXx1je23M8B/wCGYH8JV+w8X/32X/tLOH/Th3jnJQAYHRx+y+iPqPh9ZrpcUT/xr8ocnL+ufVdrLaNtQEgAAAAAAAAAAAAAAYyA4eVDU5L57/XqfNPFsPsdZkr79/jz/q6uG3FSJaTnpXC8dYN2Rw/Jpog7LbFUoQTjFy/vYN9ZNJdE339DoeE5seHWUyZJ2rG+8/tPkizVm1JiFzguFOvCxqLdc9eHRTZp8y5o1qMtP16pkGqzVvqb5adJtMx+87w2pXakRPkw8McEhgYtWLCcrI18+pTSTfNJyfRfOTNtfrLavPbNaNpnbl6RsxjpwV4XUKiQAq8Vw/Povo5nDzqLqudLbhzxcebXrreyXT5fY5aZNt+GYnbz2ndravFEw1eH+G/hcXHxufzPJqjXz8vLza9dbejfWaj/ABGe+XbbinfZileGsQvlduASl1+5vixTlyVxx1mYj4sTO0bulWj6vERWNoceVusyw2gSAAAAAAAAAAAAAABiwOZxOrtL7P8AkeT/ABNpN4rqK9vyz/SfnHwXdJfrVQPHroAMjnTvyty1VDSssUXre61XY4t/EuvOq19Jem3y2opg2je09I+O8b9vLef2+Me9vIqvymviqhF8t3RamnNOaik+daTShJPu1LTUWhamCJ5Wmenu5ct+08+se7blxETbyZyuyPLqari5vn82OukdVzcdbkunOoL6S9PTWKYeO0b8uW3xjft5bz+3fvne20MIXZXLFuuHM41OcY9UpPm50pOXVLS02l+ZfPW000/FMRadue0/Llt/Xt6Mb38nRKiQMgBuxobe/b9z0P4c0k5NROaelPnPT4RvPwVtVfavD5uhUj3TnLUEBmBIAAAAAAAAAAAAAAEMDTdBNNPsyLNhpmx2x3jlMbS2raazvDi3VuLaf6+6Pmmu0d9JmnFf9p847T993Vx3i9d4YFRuAAAAwBkAAExW+hJhw3zZIx0jeZ6NbWisbyvU16Wj6XoNHXSYIxV/efOe8/fZy8l5vbeVuqJcRrEUBkAAAAAAAAAAAAAAAAgCJICplUKS+fo/YoeI+H49bi4LcpjpPl/bzhLiyzjneHKsrcXpr+p881Wjy6XJ7PLG0/xPvj79XSpeLxvDErNwAAMAZACVFvsSYcOTNeKY43mezWbRWN5W6KdfU9/4T4TXRV4rc7z1ny90ffNzs2ack7R0Wq4HYQLMIgbEBIAAAAAAAAAAAAAAAABAGEogV7qU+jWyDUabFqKcGWu8ffTybVvNZ3hQtxGu3X5PueS1n4ay0mbaeeKPKeU/HpP8LtNVE/q5NEotd00eezafLhnbLWa+sLNbRbpLEgbAEpb7EmPFfJO2OszPujf5MTMR1bYY7ffp+53tJ+HNRlnfN+SPjPw+s/sr31NY/TzWa6kux67R6DBpK8OKPWe8+s/cKV8lrzzb4QLiNYhEDYkBkAAAAAAAAAAAAAAAAAAAEAYuIGqUANUqxMbxtI1Ohey/QqW0GlvO9sdfhH0SRkvHeUeQvZfoYr4fpIneMVfhH0Pa385ZKst1rFY2rGzSZ3Zqsyw2RrA2xiBmkBIEgAAAAAAAAAAAAAAAAAAAAgA0Bi4gYuAEcgDkAyUAMkgJAkAAAAAAAAAAAAAAAAAAAAAAAAAQAAaAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/9k=\"/>\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth \r\n                ? <div>{props.login} - <button onClick={props.logout}>LogOut</button></div>\r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import { stopSubmit } from 'redux-form';\r\nimport { authAPI } from '../api/api';\r\nconst SET_AUTH_USER_DATA = 'SET-AUTH-USER-DATA';\r\n\r\nlet initialState = {  \r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case SET_AUTH_USER_DATA: \r\n            return {\r\n                ...state, \r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_AUTH_USER_DATA, payload: {userId, email, login, isAuth}});\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.isAuth();\r\n    if(response.resultCode === 0){\r\n        let {id, email, login} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if(response.resultCode === 0){\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.messages.length > 0 ? response.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if(response.resultCode === 0){\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/authReducer';\r\nimport { connect } from 'react-redux';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render(){\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport s from'./NavBar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst NavBar = () => {\r\n    return <nav className={s.nav}>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/Profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/Users\" activeClassName={s.activeLink}>Users</NavLink>\r\n    </div>\r\n    <div className={`${s.item} ${s.active}`}>\r\n      <NavLink to=\"/Dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/News\" activeClassName={s.activeLink}>News</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/Music\" activeClassName={s.activeLink}>Music</NavLink>\r\n    </div>\r\n    <div className={s.item}>\r\n      <NavLink to=\"/Settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n    </div>\r\n  </nav>\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { Input } from '../Common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { createField } from '../Common/FormsControls/FormsControls';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/authReducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from '../Common/FormsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error}) =>{\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', [required], Input)}\r\n            {createField('Password', 'password', [required], Input, {type:'password'})}\r\n            {createField(null, 'rememberMe', [], Input, {type:'checkbox'}, 'remember me')}\r\n            {\r\n                error && <div className={s.formSummaryError}>{error}</div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) =>{\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={'/profile'}/>;\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login})(Login);","import { getAuthUserData } from './authReducer';\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\r\n\r\nlet initialState = {  \r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case INITIALIZED_SUCCESS: \r\n            return {\r\n                ...state, \r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        })\r\n}\r\n\r\nexport default appReducer;","\r\n\r\nlet initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    \r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore, compose} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from './usersReducer';\r\nimport authReducer from './authReducer';\r\nimport appReducer from './appReducer';\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogsPage : dialogsReducer,\r\n    sidebar : sidebarReducer,\r\n    usersPage : usersReducer,\r\n    auth : authReducer,\r\n    form : formReducer,\r\n    app : appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport Preloader from '../components/Common/Preloader/Preloader'\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}> \r\n            <Component {...props}/> \r\n        </React.Suspense> \r\n    }\r\n}","import React from 'react';\r\nimport { Route, withRouter, BrowserRouter, HashRouter } from 'react-router-dom';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport NavBar from './components/NavBar/NavBar';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport Login from './components/Login/Login';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport Preloader from './components/Common/Preloader/Preloader';\r\nimport store from './redux/reduxStore';\r\nimport { Provider } from 'react-redux';\r\nimport { withSuspense } from './hoc/WithSuspense';\r\n\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount(){\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render (){\r\n    if (!this.props.initialized) {\r\n      return <Preloader/>\r\n    }\r\n\r\n    return ( \r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <NavBar/>\r\n        <div className='app-wrapper-content'>\r\n          <Route path='/login'\r\n          render={ () => <Login /> }/>\r\n\r\n          <Route path='/Profile/:userId?' \r\n          render={ withSuspense(ProfileContainer) }/>\r\n\r\n          <Route path='/Users' \r\n          render={ withSuspense(UsersContainer) }/>\r\n\r\n          <Route path='/Dialogs' \r\n          render={ withSuspense(DialogsContainer) }/>\r\n\r\n          <Route path='/News' component={News}/>\r\n          <Route path='/Music' component={Music}/>\r\n          <Route path='/Settings' component={Settings}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n \r\nlet AppContainer = compose(\r\n  withRouter, \r\n  connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst SocialNetApp = (props) => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer />\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default SocialNetApp;","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SocialNetApp from './App';\r\n\r\nReactDOM.render(\r\n            <SocialNetApp />, \r\n            document.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__jwBEg\",\"error\":\"FormsControls_error__18xCa\",\"formSummaryError\":\"FormsControls_formSummaryError__2g34P\"};","import React from 'react';\r\nimport preLoader from '../../../assets/images/7677edd5a44b10130b8824ca020ba60b.gif';\r\nimport s from './Preloader.module.css';\r\n\r\nlet Preloader = (props) => {\r\n    return <div style={{backgroundColor:'red'}}>\r\n            <img src={preLoader} className={s.preLoader}/>\r\n        </div>\r\n}\r\n\r\nexport default Preloader;","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3k56x\",\"loginBlock\":\"Header_loginBlock__1ymGY\"};","import { profileAPI } from '../api/api';\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id:1, message:'Hi, how are you?',likeCount:2},\r\n        {id:2, message:'thanks, i\"m fine!',likeCount:1},\r\n        {id:3, message:'Ok!!',likeCount:3},\r\n        {id:4, message:'What?',likeCount:1},\r\n        {id:5, message:'And about you?',likeCount:2},\r\n        {id:6, message:'What about you?',likeCount:5}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case ADD_POST: \r\n            let newPost = {\r\n            id: 7,\r\n            message: action.newPostText,\r\n            likeCount: 1\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        case SET_USER_PROFILE: \r\n            return {\r\n                ...state,\r\n                profile: action\r\n            }\r\n        case SET_STATUS: \r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST: \r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response));\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0){\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}